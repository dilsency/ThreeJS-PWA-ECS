<!DOCTYPE html>
<html>
<head>
<title>PWA ECS</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
<link rel="canonical" href="https://dilsency.github.io/threejs/" />
<link rel="manifest" href="manifest.json" crossorigin="use-credentials">
<style>
html,body,canvas#canvas{margin:0;background-color:#000000;}
html,body{height:100%;}
canvas#canvas{width:100% !important;height:100% !important;display:block !important;}
</style>
<script type="importmap">
{
"imports": {
"three": "https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js",
"three/addons/": "https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/",

"entity_manager": "./classes/ECS/entity_manager.js",
"entity": "./classes/ECS/entity.js",
"entity_component": "./classes/ECS/entity_component.js",

"player": "./entity components/player_controller.js",
"camera": "./entity components/camera_controller_first_person.js"
}
}
</script>
<script lang="javascript">
    if ("serviceWorker" in navigator) {
          navigator.serviceWorker
            .register("./sw.js")
            .then(function (registration) {
              // Registration was successful
              console.log(
                "ServiceWorker registration successful with scope: ",
                registration.scope
              );
            })
            .catch(function (err) {
              // registration failed :(
              console.log("ServiceWorker registration failed: ", err);
            });
        }

        window.addEventListener("beforeinstallprompt", function (e) {
          e.userChoice.then(function (choiceResult) {
            console.log(choiceResult.outcome);
            if (choiceResult.outcome == "dismissed") {
              console.log("User cancelled home screen install");
            } else {
              console.log("User added to home screen");
            }
          });
        });
</script>
</head>
<body>
<script type="module" src="main.js"></script>
</body>
</html>